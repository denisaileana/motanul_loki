<%- include('../Fragmente/header', {pagina: 'login'}) %>
<section>
    <%
    if (locals.eroare){
    %>
    <strong style="color:red;"><%= locals.eroare %></strong>
    <%
    } %>
    <% if (locals.succes){
    %><strong style="color:green;">Am creat contul cu succes! 🐈</strong>
    <%
    } %>
    <form id="formular" method="POST" action="/inregistrare" enctype="multipart/form-data">
        <label for="nume">Nume*:</label><br>
        <input type="text" id="nume" name="nume" required><br>

        <label for="prenume">Prenume*:</label><br>
        <input type="text" id="prenume" name="prenume" required><br>

        <label for="username">Username*:</label><br>
        <input type="text" id="username" name="username" required><br>

        <label for="parola">Parola*:</label><br>
        <input type="password" id="parola" name="parola" required><br>

        <label for="confirma_parola">Confirma parola*:</label><br>
        <input type="password" id="confirma_parola" name="confirma_parola" required><br>

        <label for="email">E-mail*:</label><br>
        <input type="email" id="email" name="email" required><br>

        <label for="telefon">Telefon:</label><br>
        <input type="text" id="telefon" name="telefon" pattern="\+?0[0-9]{9,}"><br>

        <label for="fotografie">Fotografie:</label><br>
        <input type="file" id="fotografie" name="fotografie" accept="image/png, image/jpeg"><br>

        <br><br>

        <input type="submit" value="Inregistreaza-te!">


    </form>

    <p>*aceste campuri sunt obligatorii</p>
</section>

<script>
    document.getElementById("formular").onsubmit = function (e) {


        //verificare parola client
        let parola = document.getElementById("parola").value;
        let confirma_parola = document.getElementById("confirma_parola").value;
        if (parola != confirma_parola) {
            alert("Cele doua parole nu se potrivesc!");
            e.preventDefault();
            return;
        }

        //verificare telefon client
        let telefon = document.getElementById("telefon").value;
        if (!(/^\+?0[0-9]{9,}$/.test(telefon)) && telefon.length > 0) {
            alert("Numarul de telefonul nu este valid!");
            e.preventDefault();
            return;
        }


    }
</script>

<%- include('../Fragmente/footer') %>